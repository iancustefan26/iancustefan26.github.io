;/*FB_PKG_DELIM*/

__d("PolarisStoriesHighlightsRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisStoriesHighlightsRoot.react").__setRef("PolarisStoriesHighlightsRoot.entrypoint")};g["default"]=a}),98);
__d("bs_js_int",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===b}b=2147483647;c=-2147483648;f.equal=a;f.max=b;f.min=c}),null);
__d("bs_js_math",["bs_js_int"],(function(a,b,c,d,e,f){"use strict";function a(a){return Math.ceil(a)}function c(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.ceil(a)}function d(a){return Math.floor(a)}function g(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.floor(a)}function e(a,b){return g(Math.random()*(b-a|0))+a|0}var h=c,i=g;f.unsafe_ceil=a;f.ceil_int=c;f.ceil=h;f.unsafe_floor=d;f.floor_int=g;f.floor=i;f.random_int=e}),null);
__d("PolarisStoriesHighlightsRoot.react",["DateConsts","PolarisConfig","PolarisLinkBuilder","PolarisLoggedOutLoginConstants","PolarisReactRedux","PolarisStoriesComponent.react","PolarisStoryActions","bs_js_math","polarisUserSelectors","promiseDone","react","shouldDisplayLoggedOutHighlights"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b;a=a.props;var e=a.routeParams.highlight_reel_id;a=a.routeProps;var f=a.latest_reel_updated,g=a.show_qr_modal,k=a.user,l=d("PolarisReactRedux").useDispatch();a=j(!1);var m=a[0],n=a[1];a=d("PolarisConfig").isLoggedIn();b=(b=d("polarisUserSelectors").useUser(k.id))==null?void 0:(b=b.counts)==null?void 0:b.followedBy;var o=f!=null&&d("bs_js_math").floor((d("DateConsts").getCurrentTimeInSeconds()-f)/d("DateConsts").SEC_PER_DAY)>d("PolarisLoggedOutLoginConstants").DAYS_HIGHLIGHT_STORIES_ACTIVE&&c("shouldDisplayLoggedOutHighlights")(b);if(!a&&e!=null&&!o){f=d("PolarisLinkBuilder").buildHighlightStoryLink(e);l(d("PolarisStoryActions").initStoryAuth(f))}i(function(){m||c("promiseDone")(l(d("PolarisStoryActions").initStoryPage({highlightReelId:e,isLoggedOutHighlightViewer:o,owner:k})).then(function(){n(!0)}))},[l,e,m,o,k]);return h.jsx(c("PolarisStoriesComponent.react"),{initializing:m===!1,isLoggedOutHighlightViewer:o,showQRModal:g,username:k.username,viewerIsLoggedIn:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);